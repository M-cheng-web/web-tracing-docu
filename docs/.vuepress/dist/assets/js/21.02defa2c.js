(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{574:function(t,v,_){"use strict";_.r(v);var e=_(12),d=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"pv"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#pv"}},[t._v("#")]),t._v(" pv")]),t._v(" "),_("p",[t._v("插件可以采集页面跳转的数据,主要原理是劫持"),_("code",[t._v("history.pushState history.replaceState")]),t._v(",以及监听"),_("code",[t._v("popstate hashchange")]),t._v("这两个事件,其中"),_("code",[t._v("popstate")]),t._v("事件优先")]),t._v(" "),_("p",[t._v("触发事件时给后台的对象")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性名称")]),t._v(" "),_("th",[t._v("值")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("eventId")]),t._v(" "),_("td",[t._v("根据时间戳计算得来的字符 (固定为pageId)")]),t._v(" "),_("td",[t._v("事件ID")])]),t._v(" "),_("tr",[_("td",[t._v("eventType")]),t._v(" "),_("td",[t._v("pv")]),t._v(" "),_("td",[t._v("事件类型")])]),t._v(" "),_("tr",[_("td",[t._v("url")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("当前页面URL")])]),t._v(" "),_("tr",[_("td",[t._v("referer")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("上级页面URL")])]),t._v(" "),_("tr",[_("td",[t._v("title")]),t._v(" "),_("td",[t._v("document.title")]),t._v(" "),_("td",[t._v("页面标题")])]),t._v(" "),_("tr",[_("td",[t._v("sendTime")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("发送时间")])]),t._v(" "),_("tr",[_("td",[t._v("triggerTime")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("事件发生时间")])]),t._v(" "),_("tr",[_("td",[t._v("action")]),t._v(" "),_("td",[t._v("navigate / reload / back_forward / reserved")]),t._v(" "),_("td",[t._v("页面加载来源")])]),t._v(" "),_("tr",[_("td",[t._v("type")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("大类type,参考"),_("code",[t._v("数据结构")])])])])]),t._v(" "),_("blockquote",[_("p",[t._v("如果是hash路由,在init时要设置 hashtag = true, 否则浏览器前进后退事件会失效")])])])}),[],!1,null,null,null);v.default=d.exports}}]);