(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{571:function(t,s,r){"use strict";r.r(s);var e=r(12),v=Object(e.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"http"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" http")]),t._v(" "),r("p",[t._v("采集所有的 ajax & axios & fetch 请求(因为是劫持了XMLHttpRequest.prototype.send方法,基于此实现的请求都会被有效采集)")]),t._v(" "),r("p",[t._v("触发事件时给后台的对象")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("属性名称")]),t._v(" "),r("th",[t._v("值")]),t._v(" "),r("th",[t._v("说明")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("eventId")]),t._v(" "),r("td",[t._v("server")]),t._v(" "),r("td",[t._v("事件ID")])]),t._v(" "),r("tr",[r("td",[t._v("eventType")]),t._v(" "),r("td",[t._v("请求错误时error, 请求正确时performance")]),t._v(" "),r("td",[t._v("事件类型")])]),t._v(" "),r("tr",[r("td",[t._v("src")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("请求地址")])]),t._v(" "),r("tr",[r("td",[t._v("errMessage")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("请求错误信息")])]),t._v(" "),r("tr",[r("td",[t._v("responseStatus")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("请求返回代码")])]),t._v(" "),r("tr",[r("td",[t._v("duration")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("请求消耗时间")])]),t._v(" "),r("tr",[r("td",[t._v("sendTime")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("发送时间")])]),t._v(" "),r("tr",[r("td",[t._v("triggerTime")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("事件发生时间")])]),t._v(" "),r("tr",[r("td",[t._v("params")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("请求的参数 (只有POST请求会带)")])]),t._v(" "),r("tr",[r("td",[t._v("url")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("页面地址")])]),t._v(" "),r("tr",[r("td",[t._v("type")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("大类type,参考"),r("code",[t._v("数据结构")])])])])]),t._v(" "),r("p",[t._v("当一个请求报错后会触发三个采集:")]),t._v(" "),r("ol",[r("li",[t._v("插件内置http捕捉错误采集")]),t._v(" "),r("li",[t._v("控制台vue的捕捉错误被错误采集给收集了")]),t._v(" "),r("li",[t._v("控制台Error实例报错被错误采集了")])]),t._v(" "),r("p",[r("strong",[t._v("插件对这种情况暂时不会做特殊处理")])]),t._v(" "),r("h2",{attrs:{id:"传给后台格式示例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#传给后台格式示例"}},[t._v("#")]),t._v(" 传给后台格式示例")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  eventInfo"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      duration"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),t._v("\n      eventId"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server"')]),t._v("\n      eventType"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"performance"')]),t._v("\n      responseStatus"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n      sendTime"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1641974433133")]),t._v("\n      src"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://172.15.1231/ance/form/riskApperaisal/getRiskAppraisal"')]),t._v("\n      triggerTime"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1641974432132")]),t._v("\n      type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"serverPerformance"')]),t._v("\n      url"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8083/http.html"')]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=v.exports}}]);