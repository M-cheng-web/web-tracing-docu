(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{567:function(v,t,_){"use strict";_.r(t);var r=_(12),e=Object(r.a)({},(function(){var v=this,t=v.$createElement,_=v._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"err"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#err"}},[v._v("#")]),v._v(" err")]),v._v(" "),_("p",[v._v("页面错误自动收集,原理是监听"),_("code",[v._v("error unhandledrejection")]),v._v("事件以及劫持"),_("code",[v._v("console.error")]),v._v(",采集三类错误")]),v._v(" "),_("ul",[_("li",[v._v("资源加载错误,代码异常(error)")]),v._v(" "),_("li",[v._v("promise调用链异常(reject)")]),v._v(" "),_("li",[v._v("console.error异常")])]),v._v(" "),_("p",[v._v("触发事件时给后台的对象")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("属性名称")]),v._v(" "),_("th",[v._v("值")]),v._v(" "),_("th",[v._v("说明")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("eventId")]),v._v(" "),_("td",[v._v("code / HTML元素上发生异常则为元素名")]),v._v(" "),_("td",[v._v("事件ID")])]),v._v(" "),_("tr",[_("td",[v._v("eventType")]),v._v(" "),_("td",[v._v("error")]),v._v(" "),_("td",[v._v("事件类型")])]),v._v(" "),_("tr",[_("td",[v._v("url")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("当前页面URL")])]),v._v(" "),_("tr",[_("td",[v._v("sendTime")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("发送时间")])]),v._v(" "),_("tr",[_("td",[v._v("triggerTime")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("事件发生时间")])]),v._v(" "),_("tr",[_("td",[v._v("type")]),v._v(" "),_("td",[v._v("error")]),v._v(" "),_("td",[v._v("大类type,参考"),_("code",[v._v("数据结构")])])]),v._v(" "),_("tr",[_("td",[v._v("errMessage")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("错误信息")])]),v._v(" "),_("tr",[_("td",[v._v("errStack")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("完整的错误信息")])]),v._v(" "),_("tr",[_("td",[v._v("line")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("错误信息发生在第几行")])]),v._v(" "),_("tr",[_("td",[v._v("col")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("错误信息发生在第几列")])]),v._v(" "),_("tr",[_("td",[v._v("params")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("主动方法触发错误收集可以带参数")])])])]),v._v(" "),_("blockquote",[_("p",[v._v("注意: vue中代码报错也会触发console.error,加上控制台本身也会输出,这就意味着会触发两次,这一点后续会优化")])])])}),[],!1,null,null,null);t.default=e.exports}}]);