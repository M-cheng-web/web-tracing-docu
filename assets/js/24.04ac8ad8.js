(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{576:function(t,a,s){"use strict";s.r(a);var n=s(12),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"待做"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#待做"}},[t._v("#")]),t._v(" 待做")]),t._v(" "),s("h2",{attrs:{id:"api打点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api打点"}},[t._v("#")]),t._v(" API打点")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("track")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    eventId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    eventType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nwd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trackError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 记录开始和结束，筛选统计开始和结束之间的事件行为")]),t._v("\nwd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mark")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'业务标题'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mark和clear中间的手动和自动的打点都会可以被统计到一个分组中")]),t._v("\nwd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("track")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'业务标题'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"可配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可配置"}},[t._v("#")]),t._v(" 可配置")]),t._v(" "),s("ul",[s("li",[t._v("可配置最大发送时长")]),t._v(" "),s("li",[t._v("可配置最大缓存数量")]),t._v(" "),s("li",[t._v("主动上报方法可配置同步触发")])]),t._v(" "),s("h2",{attrs:{id:"设置全局参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置全局参数"}},[t._v("#")]),t._v(" 设置全局参数")]),t._v(" "),s("p",[t._v("新增由使用者来配置想要的参数名")]),t._v(" "),s("h2",{attrs:{id:"备注"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[t._v("#")]),t._v(" 备注")]),t._v(" "),s("ul",[s("li",[t._v("缺少一个屏蔽埋点的属性")]),t._v(" "),s("li",[t._v("错误拦截里面: 拦截了所有的promise的reject,看看怎么配置能让某些reject正常化")]),t._v(" "),s("li",[t._v("vue内的代码报错会触发两次报错, 一个是vue的报错,一个是console.error的报错, 看看这样的场景怎么样能屏蔽一个")]),t._v(" "),s("li",[t._v("区分唯一用户,比如设备号+token,看看有没有把设备号和token都传给后端了,要不然后端无法区分唯一用户(https://blog.csdn.net/beyond__devil/article/details/82949147)")]),t._v(" "),s("li",[t._v("曝光采集(指一个元素在视口停留了多久,例如淘宝,向下滑动的过程中如果在其中一屏停留超过2秒则会记录并埋点 IntersectionObserver)")])]),t._v(" "),s("h2",{attrs:{id:"params"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" params")]),t._v(" "),s("p",[t._v("点击事件的 params 规则可以优化一下")]),t._v(" "),s("h2",{attrs:{id:"时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间"}},[t._v("#")]),t._v(" 时间")]),t._v(" "),s("p",[t._v("检查下每个采集事件是否都带上了当前时间, 发送时间")]),t._v(" "),s("h2",{attrs:{id:"error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error"}},[t._v("#")]),t._v(" error")]),t._v(" "),s("ul",[s("li",[t._v("页面错误自动收集,可以设置相同错误重复发送的阈值,达到阈值不再上报,可以规避一些循环错误无限上报\n需要记录所有已经发生的错误,错误重复发生的次数, 这里要想一个较好的方案")]),t._v(" "),s("li",[t._v("相同的错误: 错误类型一致,报错信息一致(例如: 同一个文件位置、同一个接口和入参)")]),t._v(" "),s("li",[t._v("比如说vue内也有报错机制,会再次触发"),s("code",[t._v("console.error")]),t._v(",产生两次相同的错误采集信息,需要在插件内就把这种重复的给去除")])]),t._v(" "),s("h2",{attrs:{id:"资源监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源监控"}},[t._v("#")]),t._v(" 资源监控")]),t._v(" "),s("p",[t._v("需要对那一块的时间精度进行把控")]),t._v(" "),s("h2",{attrs:{id:"请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求"}},[t._v("#")]),t._v(" 请求")]),t._v(" "),s("ul",[s("li",[t._v("没有加上区分 post 和 get")]),t._v(" "),s("li",[t._v("axios请求也要加上去，可配置，有些后端是不支持的")])]),t._v(" "),s("h2",{attrs:{id:"代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),s("p",[t._v("优化一下代码,还是感觉比较凌乱")])])}),[],!1,null,null,null);a.default=r.exports}}]);